<!doctype html>
<html lang="en">
<head>
    <%- include ('head.ejs') %>
    <link rel=" stylesheet" href="../public/css/dashboard.css">
    <style>
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        .targets {
            justify-content: center;
        }
        button {
            background: transparent;
            color: #ff3f6c;
            text-decoration: none;
            padding: 10px 10px;
            outline: none;
            border: 1px solid #ff3f6c;
        }

        button:hover {
            background: #ff3f6c;
            color: #FEFEFE;
            transition: ease-in 0.4s;
        }
        #otp {
            display:none;
        }
    </style>
</head>
<body>
    <%- include ('main_header.ejs') %>
    <div class="container dashboard">
        <div class="row center">
            <div class="level card">
                <div>
                    <h3 class="heading">CURRENT TIER</h3>
                    <div>
                        <img src="/public/img/gold.png" width="10%" alt="Gold Tier">
                    </div>
                    <small>GOLD</small>
                </div>
            </div>
        </div>
        <div class="row center">
            <div class="level card">
                <h3 class="heading">YOUR PROGRESS TOWARDS NEXT TIER</h3>
                <div class="progress d-flex">
                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar" style="width: <%= meter %>"></div>
                </div>

            </div>
        </div>
        <div class="row targets">
            <div class="target card">
                <h3 class="heading">LAST-MILE TARGETS</h3>
                <div class="mt-3">
                    <% for(var i=0; i < last_mile_data.length; i++) { %>
                    <div class="card row mb-3">
                        <div class="row m-2">
                            <div class="col">
                                <%= last_mile_data[i].client_name %>
                            </div>
                            <form action="/last_mile_post" method="post">
                                <input name="client_id" style="display:none" value="<%= last_mile_data[i].client_id  %>"required/>
                               <button type="submit" name="bool_check" value="yes">yes</button>
                               <button type="submit" name="bool_check" value="no">no</button>
                            </form>
                        </div>
                    </div>
                    <% } %>

                </div>
            </div>
            <div class="target card">
                <h3 class="heading">RETURN TARGETS</h3>
                <div class="mt-3">
<!--  otp wala post-->
                    <div class="card row mb-3">
                        <div class="row m-2">
                            <div class="col">
                                return name
                            </div>
                            <div class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                <button onclick="showOtp()">Concierge Service</button>
                            </div>
                            <div class="col-3 col-sm-3 col-md-3 col-lg-3 col-xl-3">
                                <button onclick="showOtp()">Item Returned</button>
                            </div>
                        </div>
                        <div class="row" id="otp">
                            <div class="col">
                                enter OTP
                            </div>
                            <form action="/validate/otp" method="post">
                                <input type="number" name="otp" required/>
                                <button class="mr-3" type="submit">SUBMIT</button>
                            </form>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

<script>
    function showOtp() {
        const otp_form = document.getElementById("otp");
        otp_form.style.display = "flex";
    }
    function lastMile() {
        this.parent.remove()
        this.parent.parent.remove()
        this.parent.parent.parent.remove()
    }
</script>
<script src="/public/js/main-header.js"></script>
</body>
</html>